<!doctype html>
<html lang="en">
<head>
    <title>My Flask App</title>
</head>
<body>
    {% include 'header.html' %}
    <h1>Display Product</h1>
    <p>Displaying data from JSON or CSV Format.</p>
    {% if error_msg == "Wrong source" %}
    <p>{{ error_msg }}</p>
    {% if file %}
    {{ file.close() }}
    {% endif %}
    {% elif error_msg == "Product not found"%}
    <p>{{ error_msg }}</p>
    {% if file %}
    {{ file.close() }}
    {% endif %}
    {% elif data %}
    <table>
        <tr>
            <th>Name</th>
            <th>Category</th>
            <th>Price</th>
        </tr>
        <tr>
            <td>{{ data.name }}</td>
            <td>{{ data.category }}</td>
            <td>${{ data.price }}</td>
        </tr>
    </table>
    {% if file %}
    {{ file.close() }}
    {% endif %}
    {% elif datas %}
    <table>
        <tr>
            <th>Name</th>
            <th>Category</th>
            <th>Price</th>
        </tr>
        {% for data in datas %}
        <tr>
            <td>{{ data.name }}</td>
            <td>{{ data.category }}</td>
            <td>${{ data.price }}</td>
        </tr>
        {% endfor %}
    </table>
    {% if file %}
    {{ file.close() }}
    {% endif %}
    {% elif exception %}
    <p>{{ error_msg }}</p>
    {% if file %}
    {{ file.close() }}
    {% endif %}
    {% endif %}
    {% include 'footer.html' %}
</body>
</html>